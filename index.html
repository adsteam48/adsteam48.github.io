<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>詐欺師報告フォーム（確認メールのみ送信）</title>

<!-- 最新 SDK を読み込み -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
  // SDK 初期化
  emailjs.init({
    publicKey: "vUI5JALV1NiyAa_Cu"
  });

  function sendEmail(event) {
    event.preventDefault();
    const form = event.target;

    const templateParams = {
      reporter_name: form.reporterName.value,
      reporter_email: form.reporterEmail.value,
      scammer_id: form.scammerId.value,
      details: form.details.value
    };

    // 報告者宛確認メールのみ送信
    emailjs.send('service_kwg7qzm', 'template_confirmation', templateParams)
      .then(() => {
        alert("確認メールを送信しました。ありがとうございます！");
        form.reset();
      })
      .catch((error) => {
        console.error('送信エラー', error);
        alert("送信に失敗しました。コンソールで詳細を確認してください。");
      });
  }
</script>

<style>
  body { font-family: Arial; background:#f9f9f9; padding:20px; color:#333; }
  h1 { text-align:center; color:#007bff; }
  form { max-width:600px; margin:0 auto; background:#fff; padding:20px; border-radius:8px; border:1px solid #ddd; }
  label { display:block; margin-top:15px; font-weight:bold; }
  input, textarea { width:100%; padding:10px; margin-top:5px; border-radius:5px; border:1px solid #ccc; }
  textarea { resize: vertical; }
  button { margin-top:20px; padding:10px 20px; background:#007bff; color:white; border:none; border-radius:5px; cursor:pointer; }
  button:hover { background:#0056b3; }
</style>
</head>
<body>

<h1>詐欺師報告フォーム</h1>

<form onsubmit="sendEmail(event)">
  <label for="reporterName">あなたの名前</label>
  <input type="text" id="reporterName" name="reporterName" required>

  <label for="reporterEmail">あなたのメールアドレス（確認メール用）</label>
  <input type="email" id="reporterEmail" name="reporterEmail" required>

  <label for="scammerId">詐欺師のID（フォートナイトIDなど）</label>
  <input type="text" id="scammerId" name="scammerId" required>

  <label for="details">詐欺内容（できるだけ詳しく）</label>
  <textarea id="details" name="details" rows="10" placeholder="詐欺の手口、日時、状況など" required></textarea>

  <button type="submit">確認メールを送信</button>
</form>

</body>
</html>
