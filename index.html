<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Epic Games ç¨¼åƒçŠ¶æ³ä¸€è¦§</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: system-ui, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  padding: 20px;
}
h1 {
  text-align: center;
  margin-bottom: 20px;
}
.service {
  border: 1px solid #1e293b;
  border-radius: 10px;
  padding: 12px;
  margin-bottom: 10px;
  background: #020617;
}
.name {
  font-weight: bold;
  font-size: 15px;
}
.status {
  margin-top: 6px;
  font-size: 14px;
}

.ok { color: #22c55e; }
.warn { color: #facc15; }
.down { color: #ef4444; }
.maint { color: #38bdf8; }

.footer {
  margin-top: 20px;
  font-size: 12px;
  opacity: 0.7;
  text-align: center;
}
</style>
</head>
<body>

<h1>ğŸŒ Epic Games å…¬å¼ ç¨¼åƒçŠ¶æ³ä¸€è¦§</h1>

<div id="services">èª­ã¿è¾¼ã¿ä¸­...</div>

<div class="footer" id="updated"></div>

<script>
const URL = "https://status.epicgames.com/api/v2/components.json";

function statusInfo(status) {
  switch (status) {
    case "operational":
      return { icon: "ğŸŸ¢", text: "ç¨¼åƒä¸­", cls: "ok" };
    case "degraded_performance":
      return { icon: "ğŸŸ¡", text: "æ€§èƒ½ä½ä¸‹", cls: "warn" };
    case "partial_outage":
      return { icon: "ğŸŸ ", text: "ä¸€éƒ¨éšœå®³", cls: "warn" };
    case "major_outage":
      return { icon: "ğŸ”´", text: "éšœå®³ç™ºç”Ÿä¸­", cls: "down" };
    case "under_maintenance":
      return { icon: "ğŸ”µ", text: "ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­", cls: "maint" };
    default:
      return { icon: "âšª", text: status, cls: "" };
  }
}

async function load() {
  try {
    const res = await fetch(URL);
    const data = await res.json();
    const list = document.getElementById("services");
    list.innerHTML = "";

    data.components.forEach(c => {
      const s = statusInfo(c.status);
      list.innerHTML += `
        <div class="service">
          <div class="name">${s.icon} ${c.name}</div>
          <div class="status ${s.cls}">çŠ¶æ…‹ï¼š${s.text}</div>
        </div>
      `;
    });

    document.getElementById("updated").textContent =
      "æœ€çµ‚æ›´æ–°ï¼š" + new Date().toLocaleString();

  } catch (e) {
    document.getElementById("services").textContent =
      "âŒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ";
  }
}

load();
setInterval(load, 300000); // 5åˆ†æ›´æ–°
</script>

</body>
</html>
