<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>詐欺師報告フォーム</title>
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
  (function() {
    emailjs.init("vUI5JALV1NiyAa_Cu"); // 公開キー
  })();

  function sendEmail(event) {
    event.preventDefault();
    const form = event.target;

    // EmailJS に送信するパラメータ
    const templateParams = {
      reporter_name: form.reporterName.value,
      reporter_email: form.reporterEmail.value,
      scammer_id: form.scammerId.value,
      details: form.details.value
    };

    // 管理者宛メール
    emailjs.send('service_kwg7qzm', 'template_hxiq4v9', templateParams)
      .then(() => {
        alert("報告メールが送信されました。管理者と確認メールが届きます。");
        form.reset();
      }, (error) => {
        alert("送信に失敗しました: " + JSON.stringify(error));
      });

    // 報告者宛確認メール（HTMLメール）
    emailjs.send('service_kwg7qzm', 'template_confirmation', templateParams)
      .then(() => console.log("確認メール送信成功"))
      .catch(err => console.error("確認メール送信失敗", err));
  }
</script>
<style>
  body { font-family: Arial; background:#f9f9f9; padding:20px; color:#333; }
  h1 { text-align:center; color:#007bff; }
  form { max-width:600px; margin:0 auto; background:#fff; padding:20px; border-radius:8px; border:1px solid #ddd; }
  label { display:block; margin-top:15px; font-weight:bold; }
  input, textarea { width:100%; padding:10px; margin-top:5px; border-radius:5px; border:1px solid #ccc; }
  textarea { resize: vertical; }
  button { margin-top:20px; padding:10px 20px; background:#007bff; color:white; border:none; border-radius:5px; cursor:pointer; }
  button:hover { background:#0056b3; }
</style>
</head>
<body>

<h1>詐欺師報告フォーム</h1>

<form onsubmit="sendEmail(event)">
  <label for="reporterName">あなたの名前</label>
  <input type="text" id="reporterName" name="reporterName" required>

  <label for="reporterEmail">あなたのメールアドレス（確認メール用）</label>
  <input type="email" id="reporterEmail" name="reporterEmail" required>

  <label for="scammerId">詐欺師のID（フォートナイトIDなど）</label>
  <input type="text" id="scammerId" name="scammerId" required>

  <label for="details">詐欺内容（できるだけ詳しく）</label>
  <textarea id="details" name="details" rows="10" placeholder="詐欺の手口、やり取り内容、日時などを詳しく記入してください" required></textarea>

  <button type="submit">報告を送信</button>
</form>

</body>
</html>
